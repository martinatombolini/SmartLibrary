%nav.navbar.navbar-expand-lg.navbar-light.bg-light
  .container-fluid
    %button.navbar-toggler{"aria-controls" => "navbarSupportedContent", "aria-expanded" => "false", "aria-label" => "Toggle navigation", "data-bs-target" => "#navbarSupportedContent", "data-bs-toggle" => "collapse", :type => "button"}
      %span.navbar-toggler-icon
    #navbarSupportedContent.collapse.navbar-collapse
      %ul.navbar-nav.me-auto.mb-2.mb-lg-0
        %li.nav-item.dropdown
          - if !current_user
            %a#navbarDropdown.nav-link.dropdown-toggle{"aria-expanded" => "false", "data-bs-toggle" => "dropdown", :href => "#", :role => "button"}
              Login
            %ul.dropdown-menu{"aria-labelledby" => "navbarDropdown"}
              %li
                %a.dropdown-item{:href => "#"}
                  Registrati come
                  %b biblioteca
              %li
                %a.dropdown-item{:href => "#"}
                  Registrati come
                  %b lettore
              %li
                %hr.dropdown-divider/
              %li
                %a.dropdown-item{:href => "/users/sign_in"} Esegui il login
          -else
            = link_to 'Logout', destroy_user_session_path, method: :delete

      %form.d-flex
        %input.form-control.me-2{"aria-label" => "Search", :placeholder => "Search a book", :type => "search"}/
        %button.btn.btn-outline-dark{:type => "submit"} Search

%div{:align => "center"} 
  %h1 BOOKSHELF

%table
  - @books.each do |book|
    %td
      %td=image_tag 'book.png', style: 'height:20%'
      
      %td= book.title
      
      %td= link_to 'Show', book_path(book)

=link_to 'Book list', books_path

- if current_user
  = link_to 'Logout', destroy_user_session_path, method: :delete
- else
  = link_to 'Login', user_session_path

  = link_to "Sign in with Google",user_google_oauth2_omniauth_authorize_path 
